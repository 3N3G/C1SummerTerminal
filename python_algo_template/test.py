import json 
import gamelib
from algo_strategy import AlgoStrategy

# string = """{"p2Units":[[],[],[[0,14,0.0,"4"],[1,15,0.0,"18"],[2,16,0.0,"32"]]],"turnInfo":[0,3,-1,58],"p1Stats":[30.0,31.0,5.0,2250],"p1Units":[[],[],[[27,13,29.0,"2"],[26,12,49.0,"16"],[25,11,75.0,"30"]],[],[],[],[],[[27,13,0.0,"2"],[26,12,0.0,"16"],[25,11,0.0,"30"]]],"p2Stats":[30.0,31.0,5.0,2259],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[],"attack":[],"melee":[]}}"""
# string = """{"p2Units":[[[27,14,40.0,"59"],[26,14,40.0,"60"],[25,14,40.0,"62"],[23,14,14.0,"71"],[24,14,120.0,"75"],[4,14,120.0,"153"],[3,14,120.0,"154"],[9,14,120.0,"195"],[10,14,120.0,"219"]],[],[[24,15,65.0,"57"],[3,15,75.0,"140"],[4,15,43.0,"143"],[10,15,75.0,"189"]],[],[],[],[],[[24,15,0.0,"57"],[23,14,0.0,"71"],[24,14,0.0,"75"],[3,15,0.0,"140"],[4,15,0.0,"143"],[4,14,0.0,"153"],[3,14,0.0,"154"],[10,15,0.0,"189"],[9,14,0.0,"195"],[10,14,0.0,"219"]]],"turnInfo":[0,15,-1,274],"p1Stats":[4.0,14.3,6.5,936],"p1Units":[[[0,13,40.0,"67"],[1,13,40.0,"68"],[2,13,40.0,"70"],[4,13,14.0,"73"],[3,13,120.0,"77"],[23,13,120.0,"156"],[24,13,120.0,"157"],[18,13,120.0,"197"],[17,13,120.0,"221"]],[],[[3,12,65.0,"65"],[24,12,75.0,"148"],[23,12,43.0,"151"],[17,12,75.0,"193"]],[],[],[],[],[[3,12,0.0,"65"],[4,13,0.0,"73"],[3,13,0.0,"77"],[24,12,0.0,"148"],[23,12,0.0,"151"],[23,13,0.0,"156"],[24,13,0.0,"157"],[17,12,0.0,"193"],[18,13,0.0,"197"],[17,13,0.0,"221"]]],"p2Stats":[4.0,14.3,6.5,943],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[[[4,17],1,"220",2,true],[[23,10],1,"222",1,true]],"attack":[],"melee":[]}}"""
# string = """{"p2Units":[[[27,14,40.0,"58"],[26,14,40.0,"60"],[25,14,40.0,"61"],[23,14,120.0,"71"],[17,14,32.0,"72"],[24,14,120.0,"75"],[10,14,40.0,"137"],[4,14,120.0,"153"],[3,14,120.0,"154"],[9,14,120.0,"155"]],[],[[23,15,17.0,"2"],[17,15,75.0,"6"],[10,15,57.0,"8"],[24,15,75.0,"57"],[3,15,75.0,"140"],[4,15,75.0,"143"]],[],[],[],[],[[23,15,0.0,"2"],[17,15,0.0,"6"],[10,15,0.0,"8"],[24,15,0.0,"57"],[23,14,0.0,"71"],[17,14,0.0,"72"],[24,14,0.0,"75"],[3,15,0.0,"140"],[4,15,0.0,"143"],[4,14,0.0,"153"],[3,14,0.0,"154"],[9,14,0.0,"155"]]],"turnInfo":[0,11,-1,182],"p1Stats":[18.0,5.0,13.5,487],"p1Units":[[[0,13,40.0,"67"],[1,13,40.0,"68"],[2,13,40.0,"70"],[4,13,120.0,"73"],[10,13,32.0,"74"],[3,13,120.0,"77"],[17,13,40.0,"145"],[23,13,120.0,"156"],[24,13,120.0,"157"],[18,13,120.0,"158"]],[],[[4,12,17.0,"14"],[10,12,75.0,"18"],[17,12,57.0,"20"],[3,12,75.0,"65"],[24,12,75.0,"148"],[23,12,75.0,"151"]],[],[],[],[],[[4,12,0.0,"14"],[10,12,0.0,"18"],[17,12,0.0,"20"],[3,12,0.0,"65"],[4,13,0.0,"73"],[10,13,0.0,"74"],[3,13,0.0,"77"],[24,12,0.0,"148"],[23,12,0.0,"151"],[23,13,0.0,"156"],[24,13,0.0,"157"],[18,13,0.0,"158"]]],"p2Stats":[18.0,5.0,13.5,541],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[],"attack":[],"melee":[]}}"""
# string = """{"p2Units":[[],[],[[23,15,75,"17"],[17,15,75,"18"],[10,15,75,"19"],[4,15,75,"20"],[2,14,75,"21"],[25,14,75,"22"]],[],[],[],[],[[23,15,0,"17"],[17,15,0,"18"],[10,15,0,"19"],[4,15,0,"20"]]],"turnInfo":[0,1,-1,2],"p1Stats":[30,5,8.8,4],"p1Units":[[[4,13,120,"10"],[23,13,120,"12"]],[],[[4,12,75,"2"],[23,12,75,"4"],[10,12,75,"6"],[17,12,75,"8"]],[],[],[],[],[[4,12,0,"2"],[23,12,0,"4"],[10,12,0,"6"],[17,12,0,"8"],[4,13,0,"10"],[23,13,0,"12"]]],"p2Stats":[30,7,8.8,1179],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[],"attack":[],"melee":[]}}"""
# string = """{"p2Units":[[],[],[],[],[],[],[],[]],"turnInfo":[0,0,-1,0],"p1Stats":[30.0,40.0,5.0,0],"p1Units":[[],[],[],[],[],[],[],[]],"p2Stats":[30.0,40.0,5.0,0],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[],"attack":[],"melee":[]}}"""
string = """{"p2Units":[[[4,14,120.0,"12"]],[],[[23,15,17.0,"2"],[4,15,75.0,"4"],[17,15,75.0,"6"],[10,15,75.0,"8"]],[],[],[],[],[[23,15,0.0,"2"],[4,15,0.0,"4"],[17,15,0.0,"6"],[10,15,0.0,"8"],[4,14,0.0,"12"]]],"turnInfo":[0,3,-1,62],"p1Stats":[23.0,20.0,5.5,1049],"p1Units":[[[23,13,120.0,"24"]],[],[[4,12,17.0,"14"],[23,12,75.0,"16"],[10,12,75.0,"18"],[17,12,75.0,"20"]],[],[],[],[],[[4,12,0.0,"14"],[23,12,0.0,"16"],[10,12,0.0,"18"],[17,12,0.0,"20"],[23,13,0.0,"24"]]],"p2Stats":[23.0,20.0,5.5,1075],"events":{"selfDestruct":[],"breach":[],"damage":[],"shield":[],"move":[],"spawn":[],"death":[[[14,26],1,"43",2,true],[[13,1],1,"44",1,true]],"attack":[],"melee":[]}}"""

config = None

with open('../game-configs.json') as f:
	config = json.load(f)

strategy = AlgoStrategy()
strategy.on_game_start(config)

strategy.on_turn(string)